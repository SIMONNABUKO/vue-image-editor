(function(Y,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(Y=typeof globalThis<"u"?globalThis:Y||self,t(Y.VueImageEditor={},Y.Vue))})(this,function(Y,t){"use strict";function ne(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ne=function(e){return typeof e}:ne=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(a)}function Ze(a,e,o,n,s,u,f){try{var y=a[u](f),i=y.value}catch(v){o(v);return}y.done?e(i):Promise.resolve(i).then(n,s)}function ft(a){return function(){var e=this,o=arguments;return new Promise(function(n,s){var u=a.apply(e,o);function f(i){Ze(u,n,s,f,y,"next",i)}function y(i){Ze(u,n,s,f,y,"throw",i)}f(void 0)})}}function dt(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Qe(a,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function ut(a,e,o){return e&&Qe(a.prototype,e),o&&Qe(a,o),a}function J(a,e,o){return e in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function Je(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),o.push.apply(o,n)}return o}function S(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Je(Object(o),!0).forEach(function(n){J(a,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):Je(Object(o)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(o,n))})}return a}function W(a){return vt(a)||mt(a)||yt(a)||ht()}function vt(a){if(Array.isArray(a))return ke(a)}function mt(a){if(typeof Symbol<"u"&&Symbol.iterator in Object(a))return Array.from(a)}function yt(a,e){if(a){if(typeof a=="string")return ke(a,e);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ke(a,e)}}function ke(a,e){(e==null||e>a.length)&&(e=a.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=a[o];return n}function ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gt='button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])',pt=function(e){return e.key==="Tab"||e.keyCode===9},bt=function(e,o){return W(e.querySelectorAll(o)||[])},wt=function(e){return bt(e,gt)},$e=function(e){return e==document.activeElement},xt=function(){return!document.activeElement},Et=function(){function a(){dt(this,a),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}return ut(a,[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(o){if(pt(o)){if(o.shiftKey){$e(this.firstElement())&&(this.lastElement().focus(),o.preventDefault());return}if(xt()||$e(this.lastElement())){this.firstElement().focus(),o.preventDefault();return}}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(o){o&&(this.root=o,this.elements=wt(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}]),a}(),St=function(e,o,n){var s=e.style[o];return e.style[o]=n,function(){e.style[o]=s}},et=function(e){var o=e.targetTouches?e.targetTouches[0]:e,n=o.clientX,s=o.clientY;return{x:n,y:s}},Tt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ce=function(e,o,n){return typeof e!="number"&&(e=Math.min(o,n)||o),typeof n!="number"&&(n=Math.max(o,e)),Math.min(Math.max(o,e),n)},tt=function(e){return e&&Number(e.replace(/px$/,""))||0},kt=function(e,o,n){if(n==="")return!0;var s=W(o.querySelectorAll(n));return s.includes(e.target)},fe={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},de=function(e,o,n){o&&o.addEventListener(fe[e].pc,n),o&&o.addEventListener(fe[e].m,n,{passive:!1})},ue=function(e,o,n){o&&o.removeEventListener(fe[e].pc,n),o&&o.removeEventListener(fe[e].m,n)},Be=!1;if(typeof window<"u"){var nt={get passive(){Be=!0}};window.addEventListener("testPassive",null,nt),window.removeEventListener("testPassive",null,nt)}var ot=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),H=[],ve=!1,me=0,at=-1,oe,ae,Bt=function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var o=window.getComputedStyle(e);return["auto","scroll"].includes(o.overflowY)&&e.scrollHeight>e.clientHeight},zt=function(e,o){return!(e.scrollTop===0&&o<0||e.scrollTop+e.clientHeight+o>=e.scrollHeight&&o>0)},Ct=function(e){for(var o=[];e;){if(o.push(e),e.classList.contains("vfm"))return o;e=e.parentElement}return o},_t=function(e,o){var n=!1,s=Ct(e);return s.forEach(function(u){Bt(u)&&zt(u,o)&&(n=!0)}),n},rt=function(e){return H.some(function(){return _t(e,-me)})},ye=function(e){var o=e||window.event;return rt(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},Mt=function(e){if(ae===void 0){var o=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var s=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);ae=document.body.style.paddingRight,document.body.style.paddingRight="".concat(s+n,"px")}}oe===void 0&&(oe=document.body.style.overflow,document.body.style.overflow="hidden")},Ot=function(){ae!==void 0&&(document.body.style.paddingRight=ae,ae=void 0),oe!==void 0&&(document.body.style.overflow=oe,oe=void 0)},Dt=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},Vt=function(e,o){return me=e.targetTouches[0].clientY-at,rt(e.target)?!1:o&&o.scrollTop===0&&me>0||Dt(o)&&me<0?ye(e):(e.stopPropagation(),!0)},Lt=function(e,o){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!H.some(function(s){return s.targetElement===e})){var n={targetElement:e,options:o||{}};H=[].concat(W(H),[n]),ot?(e.ontouchstart=function(s){s.targetTouches.length===1&&(at=s.targetTouches[0].clientY)},e.ontouchmove=function(s){s.targetTouches.length===1&&Vt(s,e)},ve||(document.addEventListener("touchmove",ye,Be?{passive:!1}:void 0),ve=!0)):Mt(o)}},ze=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}H=H.filter(function(o){return o.targetElement!==e}),ot?(e.ontouchstart=null,e.ontouchmove=null,ve&&H.length===0&&(document.removeEventListener("touchmove",ye,Be?{passive:!1}:void 0),ve=!1)):H.length||Ot()},he=function(){},A={Enter:"enter",Entering:"entering",Leave:"leave",Leaving:"leavng"},At={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},ge={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(e){var o=ne(e);return o==="boolean"||o==="string"?!0:e.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(e){return["t","tr","r","br","b","bl","l","tl"].filter(function(o){return e.indexOf(o)!==-1}).length===e.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(e,o){var n=o.emit,s=Symbol("vfm"),u=t.ref(null),f=t.ref(null),y=t.ref(null),i=t.ref(null),v=t.ref(null),b=t.ref(null),X=t.ref(null),q=new Et,I=t.ref(!1),B=t.reactive({modal:!1,overlay:!1,resize:!1}),P=t.ref(null),F=t.ref(null),m=t.ref(!1),h=t.ref({}),_=t.ref({}),T=t.ref(null),j=t.ref(null),O=he,D=he,Oe=t.computed(function(){return typeof e.overlayTransition=="string"?{name:e.overlayTransition}:S({},e.overlayTransition)}),De=t.computed(function(){return typeof e.transition=="string"?{name:e.transition}:S({},e.transition)}),Ve=t.computed(function(){return(e.hideOverlay||P.value===A.Leave)&&F.value===A.Leave}),re=t.computed(function(){return e.zIndex===!1?e.zIndexAuto?+e.zIndexBase+2*(X.value||0):!1:e.zIndex}),Le=t.computed(function(){return S({},re.value!==!1&&{zIndex:re.value})}),Ae=t.computed(function(){var r=[_.value];return Array.isArray(e.contentStyle)?r.push.apply(r,W(e.contentStyle)):r.push(e.contentStyle),r});t.watch(function(){return e.modelValue},function(r){if(m.value){m.value=!1;return}if($(),!r){if(we("before-close",!0)){D("hide");return}pe()}}),t.watch(function(){return e.lockScroll},ee),t.watch(function(){return e.hideOverlay},function(r){e.modelValue&&!r&&(B.overlay=!0)}),t.watch(function(){return e.attach},$),t.watch(Ve,function(r){r&&(I.value=!1,f.value.style.display="none")},{flush:"post"}),t.watch(function(){return e.drag},function(r){I.value&&(r?xe():Ee())}),t.watch(function(){return e.resize},function(r){I.value&&(r?ie():Se())}),t.watch(function(){return e.keepChangedStyle},function(r){r||(_.value={})}),t.onMounted(function(){e.api.modals.push(G()),$()}),t.onBeforeUnmount(function(){var r;pe(),e.lockScroll&&f.value&&ze(f.value),u==null||(r=u.value)===null||r===void 0||r.remove();var c=e.api.modals.findIndex(function(d){return d.uid===s});e.api.modals.splice(c,1)});function G(){return{uid:s,props:e,emit:n,vfmContainer:f,vfmContent:y,vfmResize:i,vfmOverlayTransition:v,vfmTransition:b,getAttachElement:be,modalStackIndex:X,visibility:B,handleLockScroll:ee,$focusTrap:q,toggle:Ge,params:h}}function $(){if(e.modelValue){if(n("_before-open",Z({type:"_before-open"})),we("before-open",!1)){D("show");return}var r=be();if(r||e.attach===!1){if(e.attach!==!1)if(u.value)r.appendChild(u.value);else{I.value=!0,t.nextTick(function(){$()});return}var c=e.api.openedModals.findIndex(function(d){return d.uid===s});c!==-1&&e.api.openedModals.splice(c,1),e.api.openedModals.push(G()),X.value=e.api.openedModals.length-1,ee(),e.api.openedModals.filter(function(d){return d.uid!==s}).forEach(function(d,w){d.getAttachElement()===r&&(d.modalStackIndex.value=w,!d.props.keepOverlay&&(d.visibility.overlay=!1))}),I.value=!0,Ie()}else r!==!1&&console.warn("Unable to locate target ".concat(e.attach))}}function pe(){var r=e.api.openedModals.findIndex(function(d){return d.uid===s});if(r!==-1&&e.api.openedModals.splice(r,1),e.api.openedModals.length>0){var c=e.api.openedModals[e.api.openedModals.length-1];c.props.focusTrap&&c.$focusTrap.firstElement().focus(),(c.props.focusRetain||c.props.focusTrap)&&c.vfmContainer.value.focus(),!c.props.hideOverlay&&(c.visibility.overlay=!0)}e.drag&&Ee(),e.resize&&Se(),T.value=null,je()}function ee(){e.modelValue&&t.nextTick(function(){e.lockScroll?Lt(f.value,{reserveScrollBarGap:!0}):ze(f.value)})}function be(){var r;return e.attach===!1?r=!1:typeof e.attach=="string"?window?r=window.document.querySelector(e.attach):r=!1:r=e.attach,r}function Ie(){B.overlay=!0,B.modal=!0}function je(){B.overlay=!1,B.modal=!1}function Ne(){P.value=A.Entering}function Pe(){P.value=A.Enter}function Fe(){P.value=A.Leaving}function Re(){P.value=A.Leave}function Ue(){F.value=A.Entering}function Ye(){F.value=A.Enter,(e.focusRetain||e.focusTrap)&&f.value.focus(),e.focusTrap&&q.enable(f.value),e.drag&&xe(),e.resize&&ie(),n("_opened"),n("opened",Z({type:"opened"})),O("show")}function He(){F.value=A.Leaving,q.enabled()&&q.disable()}function Xe(){F.value=A.Leave,X.value=null,e.lockScroll&&ze(f.value),e.keepChangedStyle||(_.value={});var r=!1,c=Z({type:"closed",stop:function(){r=!0}});n("_closed"),n("closed",c),O("hide"),!r&&(h.value={})}function qe(r){j.value=r==null?void 0:r.target}function Ke(){j.value===f.value&&T.value!=="resize:move"&&(n("click-outside",Z({type:"click-outside"})),e.clickToClose&&n("update:modelValue",!1))}function We(){I.value&&e.escToClose&&n("update:modelValue",!1)}function Z(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return S({ref:G()},r)}function we(r,c){var d=!1,w=Z({type:r,stop:function(){d=!0}});return n(r,w),d?(m.value=!0,t.nextTick(function(){n("update:modelValue",c)}),!0):!1}function le(r,c,d){T.value="".concat(c,":").concat(d),n(T.value,r)}function Ge(r,c){var d=arguments;return new Promise(function(w,x){O=function(g){w(g),O=he},D=function(g){x(g),D=he};var R=typeof r=="boolean"?r:!e.modelValue;R&&d.length===2&&(h.value=c),n("update:modelValue",R)})}function te(r){r.stopPropagation();var c="resize",d="drag",w=r.target.getAttribute("direction"),x;if(w)x=c;else if(kt(r,y.value,e.dragSelector))x=d;else return;le(r,x,"start");var R=et(r),E=f.value.getBoundingClientRect(),g=y.value.getBoundingClientRect(),z=window.getComputedStyle(y.value).position==="absolute",k={top:tt(_.value.top),left:tt(_.value.left)},p=function(){if(e.fitParent){var K={absolute:function(){return{minTop:0,minLeft:0,maxTop:E.height-g.height,maxLeft:E.width-g.width}},relative:function(){return{minTop:k.top+E.top-g.top,minLeft:k.left+E.left-g.left,maxTop:k.top+E.bottom-g.bottom,maxLeft:k.left+E.right-g.right}}};return z?K.absolute():K.relative()}else return{}}(),C=x===c&&St(document.body,"cursor",At[w]),V=function(L){L.stopPropagation(),le(L,x,"move");var se=et(L),M={x:se.x-R.x,y:se.y-R.y};x===c&&(M=l(w,M,E,g,z));var U,Q;z?(U=g.top-E.top+M.y,Q=g.left-E.left+M.x):(U=k.top+M.y,Q=k.left+M.x),x===d&&e.fitParent&&(U=ce(p.minTop,U,p.maxTop),Q=ce(p.minLeft,Q,p.maxLeft));var Te=S(S(S({position:"relative",top:U+"px",left:Q+"px",margin:"unset",touchAction:"none"},z&&{position:"absolute",transform:"unset",width:g.width+"px",height:g.height+"px"}),M.width&&{width:M.width+"px"}),M.height&&{height:M.height+"px"});_.value=S(S({},_.value),Te)},N=function K(L){L.stopPropagation(),x===c&&C&&C(),setTimeout(function(){le(L,x,"end")}),ue("move",document,V),ue("up",document,K)};de("move",document,V),de("up",document,N)}function xe(){de("down",y.value,te),_.value.touchAction="none"}function Ee(){ue("down",y.value,te)}function ie(){B.resize=!0,t.nextTick(function(){de("down",i.value,te)})}function Se(){ue("down",i.value,te),B.resize=!1}function l(r,c,d,w,x){var R=function(p){var C,V=c[p.axis];V=e.fitParent?ce(p.min,V,p.max):V;var N=ce(p.minEdge,p.getEdge(V),p.maxEdge);return V=p.getOffsetAxis(N,x),C={},J(C,p.edgeName,N),J(C,p.axis,V),C},E=function(p,C,V,N){var K=w[C],L=d[p]-w[p],se=Tt(C);return{axis:V,edgeName:C,min:N?L:-K,max:N?K:L,minEdge:e["min".concat(se)],maxEdge:e["max".concat(se)],getEdge:function(U){return w[C]-U*(N?1:-1)},getOffsetAxis:function(U,Q){var Te=w[C]-U;return Q?N?Te:0:(N?1:-1)*Te/2}}},g={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},z={x:0,y:0};return r.split("").forEach(function(k){var p=E.apply(void 0,W(g[k]));z=S(S({},z),R(p))}),z}return{root:u,vfmContainer:f,vfmContent:y,vfmResize:i,vfmOverlayTransition:v,vfmTransition:b,computedOverlayTransition:Oe,computedTransition:De,visible:I,visibility:B,params:h,calculateZIndex:re,bindStyle:Le,bindContentStyle:Ae,beforeOverlayEnter:Ne,afterOverlayEnter:Pe,beforeOverlayLeave:Fe,afterOverlayLeave:Re,beforeModalEnter:Ue,afterModalEnter:Ye,beforeModalLeave:He,afterModalLeave:Xe,onMousedown:qe,onMouseupContainer:Ke,onEsc:We}}},Ce=t.withScopeId("data-v-2836fdb5");t.pushScopeId("data-v-2836fdb5");var It={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};t.popScopeId();var jt=Ce(function(a,e,o,n,s,u){return o.ssr||n.visible?t.withDirectives((t.openBlock(),t.createBlock("div",{key:0,ref:"root",style:n.bindStyle,class:["vfm vfm--inset",[o.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":o.preventClick}]],onKeydown:e[4]||(e[4]=t.withKeys(function(){return n.onEsc&&n.onEsc.apply(n,arguments)},["esc"]))},[t.createVNode(t.Transition,t.mergeProps(n.computedOverlayTransition,{onBeforeEnter:n.beforeOverlayEnter,onAfterEnter:n.afterOverlayEnter,onBeforeLeave:n.beforeOverlayLeave,onAfterLeave:n.afterOverlayLeave}),{default:Ce(function(){return[!o.hideOverlay&&n.visibility.overlay?(t.openBlock(),t.createBlock("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",o.overlayClass],style:o.overlayStyle},null,6)):t.createCommentVNode("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),t.createVNode(t.Transition,t.mergeProps(n.computedTransition,{onBeforeEnter:n.beforeModalEnter,onAfterEnter:n.afterModalEnter,onBeforeLeave:n.beforeModalLeave,onAfterLeave:n.afterModalLeave}),{default:Ce(function(){return[t.withDirectives(t.createVNode("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",o.classes],style:o.styles,"aria-expanded":n.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:e[2]||(e[2]=t.withModifiers(function(){return n.onMouseupContainer&&n.onMouseupContainer.apply(n,arguments)},["self"])),onMousedown:e[3]||(e[3]=t.withModifiers(function(){return n.onMousedown&&n.onMousedown.apply(n,arguments)},["self"]))},[t.createVNode("div",{ref:"vfmContent",class:["vfm__content",[o.contentClass,{"vfm--prevent-auto":o.preventClick}]],style:n.bindContentStyle,onMousedown:e[1]||(e[1]=function(f){return n.onMousedown(null)})},[t.renderSlot(a.$slots,"default",{params:n.params,close:function(){return a.$emit("update:modelValue",!1)}}),n.visibility.resize&&n.visibility.modal?(t.openBlock(),t.createBlock("div",It,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(o.resizeDirections,function(f){return t.openBlock(),t.createBlock("div",{key:f,direction:f,class:["vfm--resize-".concat(f),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):t.createCommentVNode("v-if",!0)],38)],46,["aria-expanded"]),[[t.vShow,n.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[t.vShow,!o.ssr||n.visible]]):t.createCommentVNode("v-if",!0)});function Nt(a,e){e===void 0&&(e={});var o=e.insertAt;if(!(!a||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",o==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a))}}var Pt=`
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
`;Nt(Pt),ge.render=jt,ge.__scopeId="data-v-2836fdb5",ge.__file="lib/VueFinalModal.vue";var _e={props:{},methods:{slice:function(e){this.api.dynamicModals.splice(e,1)},beforeOpen:function(e,o,n){var s=this;return ft(function*(){e.ref.params.value=o.params,yield s.$nextTick(),yield s.$nextTick(),o.value||(s.slice(n),o.reject("show"))})()},isString:function(e){return typeof e=="string"}}},Ft={class:"modals-container"};function Rt(a,e,o,n,s,u){return t.openBlock(),t.createBlock("div",Ft,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(a.api.dynamicModals,function(f,y){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(f.component),t.mergeProps({key:f.id},f.bind,{modelValue:f.value,"onUpdate:modelValue":function(v){return f.value=v}},t.toHandlers(f.on),{on_closed:function(v){return u.slice(y)},on_beforeOpen:function(v){return u.beforeOpen(v,f)},on_opened:f.opened}),t.createSlots({_:2},[t.renderList(f.slots,function(i,v){return{name:v,fn:t.withCtx(function(){return[t.createCommentVNode(" eslint-disable vue/no-v-html "),u.isString(i)?(t.openBlock(),t.createBlock("div",{key:0,innerHTML:i},null,8,["innerHTML"])):(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.component),t.mergeProps({key:1},i.bind,t.toHandlers(i.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])}_e.render=Rt,_e.__file="lib/ModalsContainer.vue";function Ut(){var a=null;return{show:function(o){for(var n=this,s=arguments.length,u=new Array(s>1?s-1:0),f=1;f<s;f++)u[f-1]=arguments[f];switch(ne(o)){case"string":return this.toggle.apply(this,[o,!0].concat(u));case"object":return Promise.allSettled([new Promise(function(y,i){var v={value:!0,id:Symbol("dynamicModal"),component:a,bind:{},slots:{},on:{},params:u[0],reject:i,opened:function(){y("show")}};n.dynamicModals.push(t.shallowReactive(Object.assign(v,o)))})])}},hide:function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return this.toggle(n,!1)},hideAll:function(){return this.hide.apply(this,W(this.openedModals.map(function(o){return o.props.name})))},toggle:function(o){for(var n=arguments.length,s=new Array(n>1?n-1:0),u=1;u<n;u++)s[u-1]=arguments[u];var f=Array.isArray(o)?this.get.apply(this,W(o)):this.get(o);return Promise.allSettled(f.map(function(y){return y.toggle.apply(y,s)}))},get:function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return this.modals.filter(function(u){return n.includes(u.props.name)})},dynamicModals:t.shallowReactive([]),openedModals:[],modals:[],_setDefaultModal:function(o){a=o}}}function lt(a,e){var o=S(S({},a),{},{props:S({},a.props)});return Object.assign(o.props,{api:{type:Object,default:function(){return e}}}),o}function Yt(a){var e=lt(ge,a);return a._setDefaultModal(e),e}function Ht(a){return lt(_e,a)}var Xt="$vfm",qt="VueFinalModal",Kt="ModalsContainer",Wt=function(){var e,o=Ut();return e={},J(e,Xt,o),J(e,qt,Yt(o)),J(e,Kt,Ht(o)),e},Me=Wt();Me.$vfm;var it=Me.VueFinalModal;Me.ModalsContainer;const En="",st=(a,e)=>{const o=a.__vccOpts||a;for(const[n,s]of e)o[n]=s;return o},Gt={name:"EmojiPicker",emits:["select"],setup(a,{emit:e}){const o=["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾"],n=t.ref(""),s=t.computed(()=>n.value?o.filter(f=>f.includes(n.value)):o);return{search:n,filteredEmojis:s,selectEmoji:f=>{e("select",{i:f})}}}},Zt={class:"emoji-picker"},Qt={class:"emoji-list"},Jt=["onClick"];function $t(a,e,o,n,s,u){return t.openBlock(),t.createElementBlock("div",Zt,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=f=>n.search=f),type:"text",placeholder:"Search emoji...",class:"w-full px-2 py-1 mb-2 bg-[#1a1b1f] text-white rounded border border-white/10"},null,512),[[t.vModelText,n.search]]),t.createElementVNode("div",Qt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.filteredEmojis,f=>(t.openBlock(),t.createElementBlock("button",{key:f,onClick:y=>n.selectEmoji(f),class:"emoji-button"},t.toDisplayString(f),9,Jt))),128))])])}const en=st(Gt,[["render",$t],["__scopeId","data-v-c9042253"]]),Sn="",tn={name:"VueImageEditor",components:{VueFinalModal:it,EmojiPicker:en},props:{isOpen:{type:Boolean,required:!0},imageUrl:{type:String,required:!0}},emits:["update:isOpen","save"],setup(a,{emit:e}){const o=t.ref(null),n=t.ref(null),s=t.ref(null),u=t.ref(null),f=t.ref(!1),y=t.ref("blur"),i=t.ref(!1),v=t.ref(""),b=t.ref("#ffffff"),X=t.ref(24),q=t.ref(5),I=t.ref(!1),B=t.ref(!1),P=t.ref(!1),F=t.ref(null),m=t.ref({x:0,y:0}),h=t.ref({width:100,height:100}),_=t.ref({x:0,y:0}),T=t.ref([]),j=t.ref([]),O=t.ref(!1),D=t.ref(!1),Oe=t.computed({get:()=>a.isOpen,set:l=>e("update:isOpen",l)}),De=[{name:"blur",label:"Blur"},{name:"pixelate",label:"Pixelate"},{name:"text",label:"Text"},{name:"emoji",label:"Emoji"}],Ve=[{position:"nw",style:{top:"-5px",left:"-5px",cursor:"nwse-resize"}},{position:"ne",style:{top:"-5px",right:"-5px",cursor:"nesw-resize"}},{position:"sw",style:{bottom:"-5px",left:"-5px",cursor:"nesw-resize"}},{position:"se",style:{bottom:"-5px",right:"-5px",cursor:"nwse-resize"}}],re=t.computed(()=>({left:`${m.value.x}px`,top:`${m.value.y}px`,width:`${h.value.width}px`,height:`${h.value.height}px`})),Le=l=>({left:`${l.x}px`,top:`${l.y}px`}),Ae=l=>({left:`${l.x}px`,top:`${l.y}px`,fontSize:`${l.size}px`}),G=async()=>{if(!(!o.value||!a.imageUrl||D.value||O.value)){D.value=!0;try{const l=new Image;await new Promise((r,c)=>{l.onload=()=>{try{if(!o.value)return c(new Error("Canvas not found"));if(o.value.width=l.width,o.value.height=l.height,n.value=o.value.getContext("2d"),!n.value)return c(new Error("Could not get canvas context"));n.value.drawImage(l,0,0,l.width,l.height),u.value=l,O.value=!0,r()}catch(d){c(d)}},l.onerror=()=>c(new Error("Failed to load image")),l.src=a.imageUrl})}catch(l){console.error("Failed to initialize canvas:",l)}finally{D.value=!1}}},$=l=>{y.value=l,i.value=!0,I.value=l==="blur"||l==="pixelate"},pe=l=>{f.value=!0,ee(l)},ee=l=>{if(!f.value)return;const r=o.value.getBoundingClientRect(),c=l.clientX-r.left,d=l.clientY-r.top;(y.value==="blur"||y.value==="pixelate")&&(m.value={x:c,y:d},h.value={width:100,height:100})},be=()=>{f.value=!1},Ie=l=>{B.value=!0;const r=o.value.getBoundingClientRect();_.value={x:l.clientX-r.left-m.value.x,y:l.clientY-r.top-m.value.y}},je=l=>{if(!B.value)return;const r=o.value.getBoundingClientRect();m.value={x:l.clientX-r.left-_.value.x,y:l.clientY-r.top-_.value.y}},Ne=()=>{B.value=!1},Pe=l=>{P.value=!0,F.value=l},Fe=l=>{if(!P.value)return;const r=o.value.getBoundingClientRect(),c=l.clientX-r.left,d=l.clientY-r.top;switch(F.value){case"nw":h.value.width+=m.value.x-c,h.value.height+=m.value.y-d,m.value.x=c,m.value.y=d;break;case"ne":h.value.width=c-m.value.x,h.value.height+=m.value.y-d,m.value.y=d;break;case"sw":h.value.width+=m.value.x-c,h.value.height=d-m.value.y,m.value.x=c;break;case"se":h.value.width=c-m.value.x,h.value.height=d-m.value.y;break}},Re=()=>{P.value=!1,F.value=null},Ue=()=>{if(!(!n.value||!u.value||!o.value)){if(n.value.drawImage(u.value,0,0,o.value.width,o.value.height),y.value==="blur"){const l=q.value||5;n.value.filter=`blur(${l}px)`,n.value.drawImage(o.value,m.value.x,m.value.y,h.value.width,h.value.height,m.value.x,m.value.y,h.value.width,h.value.height),n.value.filter="none"}else if(y.value==="pixelate"){const l=q.value||5,r=n.value.getImageData(m.value.x,m.value.y,h.value.width,h.value.height);for(let c=0;c<h.value.height;c+=l)for(let d=0;d<h.value.width;d+=l){const w=(c*h.value.width+d)*4,x=r.data[w],R=r.data[w+1],E=r.data[w+2];for(let g=0;g<l&&c+g<h.value.height;g++)for(let z=0;z<l&&d+z<h.value.width;z++){const k=((c+g)*h.value.width+(d+z))*4;r.data[k]=x,r.data[k+1]=R,r.data[k+2]=E}}n.value.putImageData(r,m.value.x,m.value.y)}xe(),Ee()}},Ye=()=>{v.value&&(T.value.push({text:v.value,x:50,y:50,color:b.value,size:X.value}),v.value="")},He=(l,r)=>{const c=T.value[l];c.isDragging=!0,c.dragStartX=r.clientX-c.x,c.dragStartY=r.clientY-c.y},Xe=l=>{T.value.forEach(r=>{r.isDragging&&(r.x=l.clientX-r.dragStartX,r.y=l.clientY-r.dragStartY)})},qe=()=>{T.value.forEach(l=>{l.isDragging=!1})},Ke=l=>{const r=T.value[l];v.value=r.text,b.value=r.color,X.value=r.size,T.value.splice(l,1)},We=l=>{T.value.splice(l,1)},Z=l=>{j.value.push({emoji:l.i,x:50,y:50,size:24})},we=(l,r)=>{const c=j.value[l];c.isDragging=!0,c.dragStartX=r.clientX-c.x,c.dragStartY=r.clientY-c.y},le=l=>{j.value.forEach(r=>{r.isDragging&&(r.x=l.clientX-r.dragStartX,r.y=l.clientY-r.dragStartY)})},Ge=()=>{j.value.forEach(l=>{l.isDragging=!1})},te=l=>{j.value.splice(l,1)},xe=()=>{n.value&&T.value.forEach(l=>{n.value.font=`${l.size}px sans-serif`,n.value.fillStyle=l.color,n.value.fillText(l.text,l.x,l.y)})},Ee=()=>{n.value&&j.value.forEach(l=>{n.value.font=`${l.size}px sans-serif`,n.value.textBaseline="middle",n.value.textAlign="center",n.value.fillText(l.emoji,l.x+l.size/2,l.y+l.size/2)})},ie=()=>{e("update:isOpen",!1)},Se=()=>{const l=o.value.toDataURL();e("save",l),ie()};return t.onMounted(async()=>{a.isOpen&&await G()}),t.watch(()=>a.isOpen,async(l,r)=>{l&&!O.value&&!D.value?(await t.nextTick(),await G()):l||(O.value=!1)},{immediate:!0}),t.watch(()=>a.imageUrl,async(l,r)=>{l!==r&&a.isOpen&&!D.value&&(O.value=!1,await G())}),t.onUnmounted(()=>{u.value&&(u.value.src="",u.value=null),n.value&&(n.value=null)}),{canvas:o,canvasContainer:s,currentTool:y,showToolOptions:i,showBlurFrame:I,textInput:v,textColor:b,textSize:X,effectIntensity:q,framePosition:m,frameSize:h,textItems:T,emojiItems:j,tools:De,resizeHandles:Ve,blurFrameStyle:re,getTextItemStyle:Le,getEmojiItemStyle:Ae,isOpenLocal:Oe,selectTool:$,startDrawing:pe,draw:ee,stopDrawing:be,startFrameDrag:Ie,dragFrame:je,stopFrameDrag:Ne,startResize:Pe,resize:Fe,stopResize:Re,applyEffect:Ue,addText:Ye,startTextDrag:He,dragText:Xe,stopTextDrag:qe,editText:Ke,deleteText:We,addEmoji:Z,startEmojiDrag:we,dragEmoji:le,stopEmojiDrag:Ge,deleteEmoji:te,handleClose:ie,handleSave:Se,isLoading:D,isInitialized:O}}},nn={class:"vue-image-editor"},on={class:"editor-container"},an={class:"toolbar"},rn=["onClick"],ln={class:"canvas-container",ref:"canvasContainer"},sn=["onMousedown","onTouchstart"],cn=["onMousedown","onTouchstart"],fn=["onClick"],dn=["onClick"],un=["onMousedown","onTouchstart"],vn=["onClick"],mn={key:0,class:"tool-options"},yn={key:0},hn={key:1},gn={key:2},pn=["min","max"],bn={class:"actions"};function wn(a,e,o,n,s,u){const f=t.resolveComponent("EmojiPicker"),y=t.resolveComponent("VueFinalModal");return t.openBlock(),t.createBlock(y,{modelValue:n.isOpenLocal,"onUpdate:modelValue":e[17]||(e[17]=i=>n.isOpenLocal=i),classes:"modal-container","content-class":"modal-content","esc-to-close":!0,"click-to-close":!1,"lock-scroll":!0,"hide-overlay":!1,"overlay-transition":"vfm-fade",transition:"vfm-fade"},{default:t.withCtx(()=>[t.createElementVNode("div",nn,[t.createElementVNode("div",on,[t.createElementVNode("div",an,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.tools,i=>(t.openBlock(),t.createElementBlock("button",{key:i.name,onClick:v=>n.selectTool(i.name),class:t.normalizeClass({active:n.currentTool===i.name})},t.toDisplayString(i.label),11,rn))),128))]),t.createElementVNode("div",ln,[t.createElementVNode("canvas",{ref:"canvas",onMousedown:e[0]||(e[0]=(...i)=>n.startDrawing&&n.startDrawing(...i)),onMousemove:e[1]||(e[1]=(...i)=>n.draw&&n.draw(...i)),onMouseup:e[2]||(e[2]=(...i)=>n.stopDrawing&&n.stopDrawing(...i)),onMouseleave:e[3]||(e[3]=(...i)=>n.stopDrawing&&n.stopDrawing(...i)),onTouchstart:e[4]||(e[4]=(...i)=>n.startDrawing&&n.startDrawing(...i)),onTouchmove:e[5]||(e[5]=(...i)=>n.draw&&n.draw(...i)),onTouchend:e[6]||(e[6]=(...i)=>n.stopDrawing&&n.stopDrawing(...i))},null,544),n.showBlurFrame?(t.openBlock(),t.createElementBlock("div",{key:0,ref:"blurFrame",class:"blur-frame",style:t.normalizeStyle(n.blurFrameStyle),onMousedown:e[7]||(e[7]=(...i)=>n.startFrameDrag&&n.startFrameDrag(...i)),onTouchstart:e[8]||(e[8]=(...i)=>n.startFrameDrag&&n.startFrameDrag(...i))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.resizeHandles,i=>(t.openBlock(),t.createElementBlock("div",{key:i.position,class:"resize-handle",style:t.normalizeStyle(i.style),onMousedown:t.withModifiers(v=>n.startResize(i.position),["stop"]),onTouchstart:t.withModifiers(v=>n.startResize(i.position),["stop"])},null,44,sn))),128))],36)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.textItems,(i,v)=>(t.openBlock(),t.createElementBlock("div",{key:v,class:"text-item",style:t.normalizeStyle(n.getTextItemStyle(i)),onMousedown:b=>n.startTextDrag(v,b),onTouchstart:b=>n.startTextDrag(v,b)},[t.createElementVNode("div",{style:t.normalizeStyle({color:i.color,fontSize:`${i.size}px`})},t.toDisplayString(i.text),5),t.createElementVNode("button",{onClick:b=>n.editText(v),class:"edit-button"},"Edit",8,fn),t.createElementVNode("button",{onClick:b=>n.deleteText(v),class:"delete-button"},"Delete",8,dn)],44,cn))),128)),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.emojiItems,(i,v)=>(t.openBlock(),t.createElementBlock("div",{key:v,class:"emoji-item",style:t.normalizeStyle(n.getEmojiItemStyle(i)),onMousedown:b=>n.startEmojiDrag(v,b),onTouchstart:b=>n.startEmojiDrag(v,b)},[t.createTextVNode(t.toDisplayString(i.emoji)+" ",1),t.createElementVNode("button",{onClick:b=>n.deleteEmoji(v),class:"delete-button"},"Delete",8,vn)],44,un))),128))],512),n.showToolOptions?(t.openBlock(),t.createElementBlock("div",mn,[n.currentTool==="text"?(t.openBlock(),t.createElementBlock("div",yn,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":e[9]||(e[9]=i=>n.textInput=i),placeholder:"Enter text"},null,512),[[t.vModelText,n.textInput]]),t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":e[10]||(e[10]=i=>n.textColor=i),type:"color"},null,512),[[t.vModelText,n.textColor]]),t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":e[11]||(e[11]=i=>n.textSize=i),type:"range",min:"12",max:"72"},null,512),[[t.vModelText,n.textSize]]),t.createElementVNode("button",{onClick:e[12]||(e[12]=(...i)=>n.addText&&n.addText(...i))},"Add Text")])):t.createCommentVNode("",!0),n.currentTool==="emoji"?(t.openBlock(),t.createElementBlock("div",hn,[t.createVNode(f,{onSelect:n.addEmoji},null,8,["onSelect"])])):t.createCommentVNode("",!0),n.currentTool==="blur"||n.currentTool==="pixelate"?(t.openBlock(),t.createElementBlock("div",gn,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":e[13]||(e[13]=i=>n.effectIntensity=i),type:"range",min:(n.currentTool==="pixelate",1),max:(n.currentTool==="pixelate",20),onInput:e[14]||(e[14]=(...i)=>n.applyEffect&&n.applyEffect(...i))},null,40,pn),[[t.vModelText,n.effectIntensity]])])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),t.createElementVNode("div",bn,[t.createElementVNode("button",{onClick:e[15]||(e[15]=(...i)=>n.handleClose&&n.handleClose(...i))},"Cancel"),t.createElementVNode("button",{onClick:e[16]||(e[16]=(...i)=>n.handleSave&&n.handleSave(...i))},"Save")])])])]),_:1},8,["modelValue"])}const ct=st(tn,[["render",wn],["__scopeId","data-v-aa8ca220"]]),xn={install:a=>{a.component("VueFinalModal",it),a.component("VueImageEditor",ct)}};Y.VueImageEditor=ct,Y.default=xn,Object.defineProperties(Y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
